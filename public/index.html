<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Pak-Rail Live Train Tracking | Pakistan Railways Real-time Tracking</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Track Pakistan Railways trains in real-time. Live train tracking, schedules, stations, delays, and arrival times for all Pakistan trains. Get instant updates on train locations and ETAs.">
    <meta name="keywords" content="Pakistan Railways, train tracking, live train tracker, track my train, track your train, Pakistan trains, railway schedule, train timings, Pakistan railway stations, live train location, train status, PR tracking, Karachi trains, Lahore trains, Islamabad trains, train delays, real-time tracking, track my train Pakistan, track your train Pakistan, where is my train">
    <meta name="author" content="Pak-Rail Live Train Tracking">
    <meta name="application-name" content="Pak-Rail Live Train Tracking">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://pakistanrailways.app/">
    <meta property="og:title" content="Pak-Rail Live Train Tracking">
    <meta property="og:description" content="Track Pakistan Railways trains in real-time. Live locations, schedules, delays, and arrival times for all Pakistan trains.">
    <meta property="og:image" content="https://pakistanrailways.app/locomotive_1f682.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://pakistanrailways.app/">
    <meta property="twitter:title" content="Pak-Rail Live Train Tracking">
    <meta property="twitter:description" content="Track Pakistan Railways trains in real-time. Live locations, schedules, delays, and arrival times for all Pakistan trains.">
    <meta property="twitter:image" content="https://pakistanrailways.app/locomotive_1f682.png">
    
    <!-- App Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Mobile Web App -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Pakistan Railways">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#1a472a">
    <meta name="msapplication-TileColor" content="#1a472a">
    
    <link rel="stylesheet" href="mobile-styles.css?v=1730000000">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Jameel Nastaleeq Font for Urdu -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400;700&display=swap" rel="stylesheet">
    <!-- Translation Script -->
    <script src="translations.js" defer></script>
</head>
<body class="mobile-app">
    <div class="mobile-app">
        <!-- Sticky Header for Home -->
        <div class="sticky-header">
            <div class="header-content-sticky">
                <div class="app-logo-sticky">
                    <div class="logo-circle-sticky">üöÇ</div>
                    <div class="app-info-sticky">
                        <h1 data-i18n="app.name">Pak-Rail</h1>
                        <div class="tagline-sticky" data-i18n="app.tagline">Live Train Tracking</div>
                    </div>
                </div>
                <div class="header-right-actions">
                    <button class="header-icon-btn notification-btn">
                        <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span class="notification-badge"></span>
                    </button>
                    <button class="header-icon-btn dark-mode-btn" onclick="mobileApp.toggleDarkMode()">
                        <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Last Updated Header for Home -->
            <div class="last-updated-header home-last-updated">
                <span id="homeLastUpdatedTime">Just now</span> <span id="homeLastUpdatedLabel">ÿ¢ÿÆÿ±€å ÿßŸæ⁄à€åŸπ</span>
            </div>

            <!-- Stats Overview -->
            <div class="stats-overview">
                <div class="stat-card">
                    <div class="stat-icon">
                        <img src="/locomotive_1f682.png" alt="Train" class="stat-locomotive-icon" />
                    </div>
                    <div class="stat-number" id="activeTrainsCount">--</div>
                    <div class="stat-label" data-i18n="common.active">Active</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <svg class="stat-svg clock-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
                            <path d="M12 7v5l3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 3v1M12 20v1M3 12h1M20 12h1" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="stat-number" id="onTimeTrains">--</div>
                    <div class="stat-label" data-i18n="common.onTime">On Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <svg class="stat-svg alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <line x1="12" y1="9" x2="12" y2="13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <circle cx="12" cy="17" r="0.5" fill="currentColor" stroke="currentColor"/>
                        </svg>
                    </div>
                    <div class="stat-number" id="delayedTrains">--</div>
                    <div class="stat-label" data-i18n="common.delayed">Delayed</div>
                </div>
            </div>

            <!-- Feature Grid -->
            <div class="feature-grid">
                <div class="feature-tile primary" onclick="mobileApp.navigateToScreen('liveTracking')">
                    <div class="tile-header">
                        <div class="tile-icon">üöÇ</div>
                        <div class="live-indicator" data-i18n="train.live">LIVE</div>
                    </div>
                    <h3 data-i18n="features.liveTracking">Live Tracking</h3>
                    <p data-i18n="features.descriptionLiveTracking">Track trains in real-time with live positions and updates</p>
                </div>
                <div class="feature-tile secondary" onclick="mobileApp.navigateToScreen('scheduleScreen')">
                    <div class="tile-header">
                        <div class="tile-icon">üìÖ</div>
                    </div>
                    <h3 data-i18n="features.schedules">Schedules</h3>
                    <p data-i18n="features.descriptionSchedules">Browse train schedules and departure times</p>
                </div>
                <div class="feature-tile tertiary" onclick="mobileApp.navigateToScreen('stationScreen')">
                    <div class="tile-header">
                        <div class="tile-icon">üöâ</div>
                    </div>
                    <h3 data-i18n="features.stations">Stations</h3>
                    <p data-i18n="features.descriptionStations">Find station information and train arrivals</p>
                </div>
                <div class="feature-tile quaternary" onclick="mobileApp.navigateToScreen('mapScreen')">
                    <div class="tile-header">
                        <div class="tile-icon">üó∫Ô∏è</div>
                    </div>
                    <h3 data-i18n="features.liveMap">Live Map</h3>
                    <p data-i18n="features.descriptionLiveMap">View trains on interactive map</p>
                </div>
            </div>
            <!-- Quick Train Access -->
            <div class="quick-train-access">
                <div class="section-header">
                    <h3 data-i18n="features.liveTrains">Live Trains</h3>
                    <button class="view-all-btn" onclick="mobileApp.navigateToScreen('liveTracking')" data-i18n="common.viewAll">View All</button>
                </div>
                <div class="train-carousel" id="liveTrainsList">
                    <div class="loading" data-i18n="common.loadingLiveTrains">Loading live trains...</div>
                </div>
                <div class="carousel-dots" id="carouselDots"></div>
            </div>


            <!-- Live Updates -->
            <div class="live-updates">
                <div class="section-header">
                    <h3 data-i18n="features.liveUpdates">Live Updates</h3>
                    <div class="update-indicator">
                        <div class="pulse-dot"></div>
                        <span data-i18n="common.realtime">Real-time</span>
                    </div>
                </div>
                <div class="updates-feed" id="liveUpdatesFeed">
                    <div class="loading" data-i18n="common.loadingLiveUpdates">Loading live updates...</div>
                </div>
            </div>
        </div>

        <!-- Mobile Footer -->
        <div class="mobile-footer">
            <p>Pakistan Railways Live Tracking System</p>
        </div>

        <!-- Screens -->
        <div class="screens">
            <!-- Dashboard Screen -->
            <div id="dashboard" class="screen hidden">
                <div class="screen-header">
                    <button class="back-btn" onclick="mobileApp.goBack()">‚Üê</button>
                    <h2 data-i18n="dashboard.dashboard">Dashboard</h2>
                    <button class="refresh-btn" onclick="mobileApp.loadDashboardData()">üîÑ</button>
                </div>

                <div class="screen-content">
                    <!-- Dashboard Stats -->
                    <div class="dashboard-stats">
                        <div class="stat-card primary">
                            <div class="stat-icon">üöÇ</div>
                            <div class="stat-content">
                                <div class="stat-value" id="dashboardActiveTrains">0</div>
                                <div class="stat-label" data-i18n="stats.activeTrains">Active Trains</div>
                            </div>
                        </div>
                        <div class="stat-card success">
                            <div class="stat-icon">‚úÖ</div>
                            <div class="stat-content">
                                <div class="stat-value" id="dashboardOnTime">0</div>
                                <div class="stat-label" data-i18n="common.onTime">On Time</div>
                            </div>
                        </div>
                        <div class="stat-card warning">
                            <div class="stat-icon">‚è∞</div>
                            <div class="stat-content">
                                <div class="stat-value" id="dashboardDelayed">0</div>
                                <div class="stat-label" data-i18n="common.delayed">Delayed</div>
                            </div>
                        </div>
                        <div class="stat-card info">
                            <div class="stat-icon">üöâ</div>
                            <div class="stat-content">
                                <div class="stat-value" id="dashboardStations">0</div>
                                <div class="stat-label" data-i18n="stations.stations">Stations</div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="section-header">
                        <h3 data-i18n="dashboard.quickActions">Quick Actions</h3>
                    </div>
                    <div class="quick-actions-grid">
                        <div class="action-card" onclick="mobileApp.navigateToScreen('liveTracking')">
                            <div class="action-icon">üöÇ</div>
                            <div class="action-text" data-i18n="features.liveTrains">Live Trains</div>
                        </div>
                        <div class="action-card" onclick="mobileApp.navigateToScreen('scheduleScreen')">
                            <div class="action-icon">üìÖ</div>
                            <div class="action-text" data-i18n="features.schedules">Schedules</div>
                        </div>
                        <div class="action-card" onclick="mobileApp.navigateToScreen('stationScreen')">
                            <div class="action-icon">üöâ</div>
                            <div class="action-text" data-i18n="features.stations">Stations</div>
                        </div>
                        <div class="action-card" onclick="mobileApp.navigateToScreen('mapScreen')">
                            <div class="action-icon">üó∫Ô∏è</div>
                            <div class="action-text" data-i18n="features.liveMap">Live Map</div>
                        </div>
                    </div>

                    <!-- Recent Trains -->
                    <div class="section-header">
                        <h3 data-i18n="dashboard.recentTrains">Recent Trains</h3>
                        <button class="view-all-btn" onclick="mobileApp.navigateToScreen('liveTracking')" data-i18n="common.viewAll">View All</button>
                    </div>
                    <div class="recent-trains" id="dashboardRecentTrains">
                        <div class="loading" data-i18n="common.loadingRecentTrains">Loading recent trains...</div>
                    </div>
                </div>
            </div>

            <!-- Live Tracking Screen -->
            <div id="liveTracking" class="screen hidden">
                <div class="sticky-header">
                    <div class="header-content-sticky">
                        <button class="header-icon-btn back-btn" onclick="mobileApp.goBack()">
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="header-title-section">
                            <h2 data-i18n="train.liveTracking">Live Tracking</h2>
                        </div>
                        <div class="header-right-actions">
                            <button class="header-icon-btn refresh-btn" onclick="mobileApp.loadLiveTrains()">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                            <button class="header-icon-btn notification-btn">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notification-badge"></span>
                            </button>
                            <button class="header-icon-btn dark-mode-btn" id="darkModeToggleLive" onclick="mobileApp.toggleDarkMode()">
                                <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="last-updated-header">
                    <span id="liveTrackingLastUpdatedTime">Just now</span> <span id="liveTrackingLastUpdatedLabel">ÿ¢ÿÆÿ±€å ÿßŸæ⁄à€åŸπ</span>
                </div>

                <div class="search-panel">
                    <div class="search-container">
                        <div class="search-input-wrapper">
                            <span class="search-icon">üîç</span>
                            <input type="text" id="liveTrackingSearchInput" data-i18n-placeholder="train.searchLiveTrainsPlaceholder" placeholder="Search live trains by number, name, or location..." class="search-input" style="font-size: 16px;">
                            <button class="clear-search-btn" id="clearLiveTrackingSearch" onclick="mobileApp.clearLiveTrackingSearch()" style="display: none;">‚úï</button>
                        </div>
                    </div>
                </div>

                <div class="screen-content">
                    <div class="schedule-results">
                        <div class="results-header">
                            <h3 data-i18n="features.liveTrains">Live Trains</h3>
                            <div class="results-count" id="liveTrackingResultsCount" data-i18n="common.loading">Loading...</div>
                        </div>
                        <div class="live-trains-list" id="liveTrainsListDetail">
                            <div class="loading" data-i18n="common.loadingLiveTrains">Loading live trains...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Live Train Details Screen -->
            <div id="liveTrainDetail" class="screen hidden">
                <div class="sticky-header">
                    <div class="header-content-sticky">
                        <button class="header-icon-btn back-btn" onclick="mobileApp.goBack()">
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="header-title-section">
                            <h2 data-i18n="train.trainDetails">Train Details</h2>
                            <div class="header-clock" id="trainDetailClock">--:--:-- --</div>
                        </div>
                        <div class="header-right-actions">
                            <button class="header-icon-btn refresh-btn" onclick="mobileApp.refreshTrainDetails()">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                            <button class="header-icon-btn notification-btn">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notification-badge"></span>
                            </button>
                            <button class="header-icon-btn dark-mode-btn" onclick="mobileApp.toggleDarkMode()">
                                <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="last-updated-header">
                    <span id="trainDetailLastUpdatedTime">Just now</span> <span id="trainDetailLastUpdatedLabel">ÿ¢ÿÆÿ±€å ÿßŸæ⁄à€åŸπ</span>
                </div>

                <div class="train-detail-content">
                    <!-- Train Status Card -->
                    <div class="train-status-card">
                        <div class="train-title">
                            <h3 id="trainDetailName">Loading...</h3>
                            <div class="train-number" id="trainDetailNumber">--</div>
                        </div>
                        <div class="status-indicator">
                            <div class="status-dot"></div>
                            <span class="live-indicator" data-i18n="train.live">LIVE</span>
                        </div>
                    </div>

                    <!-- Notification Section (Separate Container) -->
                    <div id="notificationSectionContainer"></div>

                    <!-- Train Metrics -->
                    <div class="train-metrics">
                        <div class="metric-card">
                            <div class="metric-icon">‚ö°</div>
                            <div class="metric-value" id="trainSpeed">-- km/h</div>
                            <div class="metric-label" data-i18n="train.speed">Speed</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">‚è∞</div>
                            <div class="metric-value" id="trainDelay">--</div>
                            <div class="metric-label" data-i18n="train.delay">Delay</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">üìç</div>
                            <div class="metric-value" id="nextStation">--</div>
                            <div class="metric-label" data-i18n="train.nextStation">Next Station</div>
                        </div>
                    </div>

                    <!-- Journey Map -->
                    <div class="journey-map">
                        <div class="route-progress" id="routeProgress">
                            <div class="route-stations" id="routeStations">
                                <!-- Stations and route line will be populated dynamically -->
                                <div class="loading" data-i18n="common.loadingRouteStations">Loading route stations...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Station Route Section -->
                    <div class="station-route-section">
                        <h3 data-i18n="schedule.routeStations">üöâ Route Stations</h3>
                        <div class="station-route-list" id="stationRouteList">
                            <div class="loading" data-i18n="common.loadingRouteStations">Loading route stations...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Map Screen -->
            <div id="mapScreen" class="screen hidden">
                <div class="sticky-header">
                    <div class="header-content-sticky">
                        <button class="header-icon-btn back-btn" onclick="mobileApp.goBack()">
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="header-title-section">
                            <h2 data-i18n="map.liveMap">Live Map</h2>
                        </div>
                        <div class="header-right-actions">
                            <button class="header-icon-btn notification-btn">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notification-badge"></span>
                            </button>
                            <button class="header-icon-btn dark-mode-btn" onclick="mobileApp.toggleDarkMode()">
                                <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="last-updated-header">
                    <span id="mapLastUpdatedTime">Just now</span> <span id="mapLastUpdatedLabel">ÿ¢ÿÆÿ±€å ÿßŸæ⁄à€åŸπ</span>
                </div>

                <div class="map-container">
                    <div id="liveMap" style="height: 100%; width: 100%; border-radius: 12px;"></div>
                </div>
                
                <!-- Train Selection Panel -->
                <div class="train-selection-panel" id="trainSelectionPanel">
                    <div class="panel-header" id="panelHeader" onclick="if(document.getElementById('trainSelectionPanel').classList.contains('minimized')) mobileApp.expandTrainSelection()">
                        <h3 data-i18n="map.selectTrainToTrack">Select Train to Track</h3>
                        <div class="panel-header-buttons">
                            <button class="minimize-panel-btn" onclick="event.stopPropagation(); mobileApp.minimizeTrainSelection()" title="Minimize">‚àí</button>
                            <button class="expand-panel-btn" onclick="event.stopPropagation(); mobileApp.expandTrainSelection()" title="Expand">‚åÉ</button>
                            <button class="close-panel-btn" onclick="event.stopPropagation(); mobileApp.closeTrainSelection()" title="Close">√ó</button>
                        </div>
                    </div>
                    <div class="panel-handle" onclick="mobileApp.expandTrainSelection()" id="panelHandle">
                        <div class="handle-drag-bar"></div>
                        <div class="handle-content">
                            <div class="handle-icon">‚åÉ</div>
                            <span data-i18n="map.tapToExpand">Tap to expand</span>
                        </div>
                    </div>
                    
                    <!-- Search Box -->
                    <div class="map-search-container">
                        <div class="search-input-wrapper">
                            <span class="search-icon">üîç</span>
                            <input type="text" id="mapSearchInput" data-i18n-placeholder="train.searchTrainsPlaceholder" placeholder="Search trains by number or name..." class="search-input" style="font-size: 16px;">
                            <button class="clear-search-btn" id="clearMapSearch" onclick="mobileApp.clearMapSearch()" style="display: none;">‚úï</button>
                        </div>
                    </div>
                    
                    <div class="train-list" id="trainList">
                        <div class="loading" data-i18n="common.loading">Loading...</div>
                    </div>
                </div>
                
                <!-- Train Info Panel -->
                <div class="train-info-panel" id="trainInfoPanel" style="display: none;">
                    <div class="panel-header">
                        <h3 id="selectedTrainName" data-i18n="map.trainInformation">Train Information</h3>
                        <button class="close-panel-btn" onclick="mobileApp.closeTrainInfo()">√ó</button>
                    </div>
                    <div class="train-stats-grid">
                        <div class="stat-item">
                            <div class="stat-label" data-i18n="train.speed">Speed</div>
                            <div class="stat-value" id="trainSpeed">-- km/h</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label" data-i18n="train.status">Status</div>
                            <div class="stat-value" id="trainStatus">--</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label" data-i18n="train.nextStation">Next Station</div>
                            <div class="stat-value" id="nextStation">--</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label" data-i18n="train.eta">ETA</div>
                            <div class="stat-value" id="trainETA">--</div>
                        </div>
                    </div>
                    <div class="route-progress">
                        <div class="progress-header">
                            <span id="originStation" data-i18n="map.origin">Origin</span>
                            <span id="progressPercent">0%</span>
                            <span id="destinationStation" data-i18n="map.destination">Destination</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressBar" style="width: 0%">
                                <span id="progressText">0% <span data-i18n="map.progressComplete">Complete</span></span>
                            </div>
                            <div class="train-icon" id="trainIcon" style="left: 0%">üöÇ</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Station Search Screen -->
            <div id="stationScreen" class="screen hidden">
                <div class="sticky-header">
                    <div class="header-content-sticky">
                        <button class="header-icon-btn back-btn" onclick="mobileApp.goBack()">
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="header-title-section">
                            <h2 data-i18n="stations.stations">Stations</h2>
                        </div>
                        <div class="header-right-actions">
                            <button class="header-icon-btn notification-btn">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notification-badge"></span>
                            </button>
                            <button class="header-icon-btn dark-mode-btn" onclick="mobileApp.toggleDarkMode()">
                                <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="last-updated-header">
                    <span id="stationLastUpdatedTime">Just now</span> <span id="stationLastUpdatedLabel">ÿ¢ÿÆÿ±€å ÿßŸæ⁄à€åŸπ</span>
                </div>

                <div class="search-panel">
                    <div class="search-container">
                        <div class="search-input-wrapper">
                            <span class="search-icon">üîç</span>
                            <input type="text" id="stationSearchInput" data-i18n-placeholder="stations.searchStationsPlaceholder" placeholder="Search stations..." class="search-input" style="font-size: 16px;">
                            <button class="clear-search-btn" id="clearStationSearch" onclick="mobileApp.clearStationSearch()" style="display: none;">‚úï</button>
                        </div>
                    </div>
                </div>

                <div class="screen-content">
                    <div class="schedule-results">
                        <div class="results-header">
                            <h3 data-i18n="stations.allStations">All Stations</h3>
                            <div class="results-count" id="stationsResultsCount" data-i18n="common.loading">Loading...</div>
                        </div>
                        <div class="stations-list" id="stationsList">
                            <div class="loading" data-i18n="stations.loadingStations">Loading stations...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Train Search Screen -->
            <div id="trainSearchScreen" class="screen hidden">
                <div class="sticky-header">
                    <div class="header-content-sticky">
                        <button class="header-icon-btn back-btn" onclick="mobileApp.goBack()">
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="header-title-section">
                            <h2 data-i18n="train.trainSearch">Train Search</h2>
                        </div>
                        <div class="header-right-actions">
                            <button class="header-icon-btn notification-btn">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notification-badge"></span>
                            </button>
                            <button class="header-icon-btn dark-mode-btn" onclick="mobileApp.toggleDarkMode()">
                                <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="search-section">
                    <div class="route-selector">
                        <div class="input-group">
                            <input type="text" id="trainSearchInput" class="station-input" data-i18n-placeholder="train.enterTrainNumberOrName" placeholder="Search by train number or name..." style="font-size: 16px;">
                            <button class="search-btn" onclick="mobileApp.searchTrains()">üîç</button>
                        </div>
                    </div>
                </div>

                <div class="screen-content">
                    <div class="search-results" id="trainSearchResults">
                        <div class="empty-state">
                            <p data-i18n="train.enterTrainNumberOrName">üöÇ Enter train number or name to search</p>
                            <p data-i18n="train.findSchedules">Find schedules, routes, and live tracking</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Schedule Screen -->
            <div id="scheduleScreen" class="screen hidden">
                <div class="sticky-header">
                    <div class="header-content-sticky">
                        <button class="header-icon-btn back-btn" onclick="mobileApp.goBack()">
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="header-title-section">
                            <h2 data-i18n="schedule.schedule">Train Schedule</h2>
                        </div>
                        <div class="header-right-actions">
                            <button class="header-icon-btn notification-btn">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notification-badge"></span>
                            </button>
                            <button class="header-icon-btn dark-mode-btn" onclick="mobileApp.toggleDarkMode()">
                                <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="last-updated-header">
                    <span id="scheduleLastUpdatedTime">Just now</span> <span id="scheduleLastUpdatedLabel">ÿ¢ÿÆÿ±€å ÿßŸæ⁄à€åŸπ</span>
                </div>

                <div class="search-panel">
                    <div class="search-container">
                        <div class="search-input-wrapper">
                            <span class="search-icon">üîç</span>
                            <input type="text" id="scheduleSearchInput" data-i18n-placeholder="train.searchTrainsByNumberNameRoute" placeholder="Search trains by number, name, or route..." class="search-input" style="font-size: 16px;">
                            <button class="clear-search-btn" id="clearSearchBtn" onclick="mobileApp.clearScheduleSearch()" style="display: none;">‚úï</button>
                        </div>
                    </div>
                </div>

                <div class="screen-content">
                    <div class="schedule-results">
                        <div class="results-header">
                            <h3 data-i18n="schedule.availableTrains">Available Trains</h3>
                            <div class="results-count" data-i18n="common.loading">Loading...</div>
                        </div>
                        <div class="schedule-train-list" id="scheduleList">
                            <div class="loading" data-i18n="schedule.loadingSchedule">Loading schedule...</div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Schedule Details Screen -->
            <div id="scheduleDetailsScreen" class="screen hidden">
                <div class="sticky-header">
                    <div class="header-content-sticky">
                        <button class="header-icon-btn back-btn" onclick="mobileApp.goBack()">
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="header-title-section">
                            <h2 data-i18n="schedule.scheduleDetails">Schedule Details</h2>
                        </div>
                        <div class="header-right-actions">
                            <button class="header-icon-btn notification-btn">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notification-badge"></span>
                            </button>
                            <button class="header-icon-btn dark-mode-btn" onclick="mobileApp.toggleDarkMode()">
                                <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="train-detail-content">
                    <!-- Combined Train Info and Route Card -->
                    <div class="train-status-card combined-card">
                        <div class="train-header-section">
                            <div class="train-main-title">
                                <h3 id="scheduleTrainName">Loading...</h3>
                                <div class="train-badges">
                                    <div class="train-number" id="scheduleTrainNumber">--</div>
                                    <div class="status-indicator">
                                        <div class="status-dot"></div>
                                        <span class="schedule-indicator" data-i18n="schedule.scheduled">SCHEDULE</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="route-info-section">
                            <div class="route-info">
                                <div class="route-station origin">
                                    <span class="station-text"><span data-i18n="schedule.originLabel">Origin: </span><span id="scheduleOrigin" data-i18n="common.loading">Loading...</span> <span id="scheduleDepartureTime">--:--</span></span>
                                </div>
                                <div class="route-station destination">
                                    <span class="station-text"><span data-i18n="schedule.destinationLabel">Destination: </span><span id="scheduleDestination" data-i18n="common.loading">Loading...</span> <span id="scheduleArrivalTime">--:--</span></span>
                                </div>
                            </div>
                            <div class="journey-duration">
                                <span data-i18n="schedule.journeyDurationLabel">Journey Duration: </span><span id="journeyDuration">31h 0m</span>
                            </div>
                        </div>
                    </div>

                    <!-- Station Route Section -->
                    <div class="station-route-section">
                        <h3 data-i18n="schedule.allStations">üöâ All Stations</h3>
                        <div class="station-route-list" id="scheduleStationList">
                            <div class="loading" data-i18n="schedule.loadingStationSchedule">Loading station schedule...</div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Profile Screen -->
            <div id="profileScreen" class="screen hidden">
                <div class="sticky-header">
                    <div class="header-content-sticky">
                        <button class="header-icon-btn back-btn" onclick="mobileApp.goBack()">
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="header-title-section">
                            <h2 data-i18n="settings.settings">Settings</h2>
                        </div>
                        <div class="header-right-actions">
                            <button class="header-icon-btn notification-btn">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notification-badge"></span>
                            </button>
                            <button class="header-icon-btn dark-mode-btn" onclick="mobileApp.toggleDarkMode()">
                                <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="screen-content">
                    <div class="station-info-card">
                        <div class="station-header">
                            <h3 data-i18n="common.trainTracker">üöÇ Train Tracker</h3>
                            <div class="station-status">
                                <div class="status-dot"></div>
                                <span data-i18n="common.active">Active</span>
                            </div>
                        </div>
                        <div class="station-details">
                            <div class="detail-item">
                                <div class="detail-label" data-i18n="common.version">Version</div>
                                <div class="detail-value" id="appVersion">--</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label" data-i18n="settings.lastRefreshed">Last Refreshed</div>
                                <div class="detail-value" id="appLastUpdate">--</div>
                            </div>
                        </div>
                    </div>

                    <div class="station-info-card">
                        <div class="station-header">
                            <h3 data-i18n="settings.settings">‚öôÔ∏è Settings</h3>
                        </div>
                        <div class="station-details">
                            <div class="detail-item">
                                <div class="detail-label" data-i18n="settings.autoRefresh">Auto Refresh</div>
                                <div class="detail-value">
                                    <label class="toggle">
                                        <input type="checkbox" id="autoRefreshToggle" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label" data-i18n="settings.pushNotifications">Push Notifications</div>
                                <div class="detail-value">
                                    <label class="toggle">
                                        <input type="checkbox" id="notificationsToggle">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label" data-i18n="settings.language">Language</div>
                                <div class="detail-value">
                                    <select id="languageSelector" class="language-select" onchange="mobileApp.changeLanguage(this.value)">
                                        <option value="en" data-i18n="settings.english">English</option>
                                        <option value="ur" data-i18n="settings.urdu">Urdu</option>
                                    </select>
                                </div>
                            </div>
                            <div class="detail-item" style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 12px; margin-top: 12px;">
                                <button class="track-btn" onclick="mobileApp.clearAllCachesAndReload()" style="width: 100%; padding: 12px; background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%); color: white; border: none; border-radius: 8px; font-weight: 600; font-size: 14px; cursor: pointer;" data-i18n="settings.clearCache">
                                    üóëÔ∏è Clear Cache & Reload Data
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="station-info-card">
                        <div class="station-header">
                            <h3 data-i18n="about.about">‚ÑπÔ∏è About</h3>
                        </div>
                        <p class="detail-label" data-i18n="about.description">
                            Pakistan Train Tracker provides real-time train tracking and schedule information for Pakistan Railways. 
                            Track trains live, view schedules, and get station information.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Favorites Screen (structure cloned from Schedule screen) -->
            <div id="favoritesScreen" class="screen hidden">
                <div class="sticky-header">
                    <div class="header-content-sticky">
                        <button class="header-icon-btn back-btn" onclick="mobileApp.goBack()">
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="header-title-section">
                            <h2 data-i18n="favorites.favoriteTrains">Favorite Trains</h2>
                        </div>
                        <div class="header-right-actions">
                            <button class="header-icon-btn notification-btn">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notification-badge"></span>
                            </button>
                            <button class="header-icon-btn dark-mode-btn" onclick="mobileApp.toggleDarkMode()">
                                <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="last-updated-header"><span id="favoritesLastUpdatedTime" data-i18n="common.loading">Loading...</span> <span id="favoritesLastUpdatedLabel">ÿ¢ÿÆÿ±€å ÿßŸæ⁄à€åŸπ</span></div>
                <div class="screen-content">
                    <div id="favoritesList" class="favorites-list"></div>
                </div>
            </div>

            <!-- Route Details Screen -->
            <div id="routeScreen" class="screen hidden">
                <div class="sticky-header">
                    <div class="header-content-sticky">
                        <button class="header-icon-btn back-btn" onclick="mobileApp.goBack()">
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="header-title-section">
                            <h2 data-i18n="route.routeDetails">Route Details</h2>
                        </div>
                        <div class="header-right-actions">
                            <button class="header-icon-btn notification-btn">
                                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notification-badge"></span>
                            </button>
                            <button class="header-icon-btn dark-mode-btn" onclick="mobileApp.toggleDarkMode()">
                                <svg class="icon-svg moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="screen-content">
                    <div class="route-detail-content">
                        <div class="route-details" id="routeDetails">
                            <div class="loading" data-i18n="common.loadingRouteDetails">Loading route details...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active" onclick="mobileApp.navigateToScreen('home')" data-nav="home">
                <span class="nav-icon">üè†</span>
                <span class="nav-label" data-i18n="navigation.home">Home</span>
            </div>
            <div class="nav-item" onclick="mobileApp.navigateToScreen('liveTracking')" data-nav="track">
                <span class="nav-icon">üöÇ</span>
                <span class="nav-label" data-i18n="navigation.track">Track</span>
            </div>
            <div class="nav-item" onclick="mobileApp.navigateToScreen('favoritesScreen')" data-nav="favorites">
                <span class="nav-icon">‚≠ê</span>
                <span class="nav-label" data-i18n="navigation.favorites">Favorites</span>
            </div>
            <div class="nav-item" onclick="mobileApp.navigateToScreen('profileScreen')" data-nav="profile">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-label" data-i18n="navigation.settings">Settings</span>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <!-- Capacitor Scripts -->
    <script type="module" src="capacitor.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="config.js"></script>
    <script src="mobile-app.js"></script>
</body>
</html>